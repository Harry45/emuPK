

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Basic Setup &mdash; emuPK 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Emulator Build-Up" href="main/modules.html" />
    <link rel="prev" title="emuPK" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> emuPK
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Configurations</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Basic Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="#example">Example</a></li>
</ul>
<p class="caption"><span class="caption-text">Main</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="main/modules.html">Emulator Build-Up</a></li>
</ul>
<p class="caption"><span class="caption-text">Cosmology</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cosmology/modules.html">3D Matter Power Spectrum</a></li>
</ul>
<p class="caption"><span class="caption-text">Machine Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ml/modules.html">Gaussian Process</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">emuPK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Basic Setup</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/gettingStarted.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="basic-setup">
<h1>Basic Setup<a class="headerlink" href="#basic-setup" title="Permalink to this headline">¶</a></h1>
<p>There are multiple possibilities which we consider when building the emulator. All the configurations are provided in a setting file <a class="reference external" href="https://github.com/Harry45/emuPK/blob/main/emulator/settings.py">here</a>. In particular, one can emulate the 3D matter power spectrum directly or one can decompose it into three components as:</p>
<p><img class="math" src="_images/math/338aae27e7c4e5fdfb9983a33c62fb525f80ed38.png" alt="P_{\delta}(k,z)=A(z)[1+q(k,z)]P_{\text{lin}}(k,z_{0})"/></p>
<p>If we choose to do the latter, then this can be specified using</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">components</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Moreover, one can choose to include the neutrino mass in the emulating scheme. If one opt not to do so, the neutrino mass can be fixed to a value. In many weak lensing analysis, this mass is fixed to 0.06 eV.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">neutrino</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">neutrino</span><span class="p">:</span>
    <span class="n">fixed_nm</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;M_tot&#39;</span><span class="p">:</span> <span class="mf">0.06</span><span class="p">}</span>
</pre></div>
</div>
<p>Once the LHS points are generated and scaled according to the range of cosmological values we want, we found that CLASS gets permanently stuck at some of these points. Hence, to acoid this, we allocate a timeslot to allow CLASS to run (below, we have fixed it to 60 seconds). On average, the time taken for a single forward simulation is around 30 seconds, hence can be used as a guide to fix the value below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">timeout</span> <span class="o">=</span> <span class="mi">60</span>
</pre></div>
</div>
<p>Next, we consider the lower and upper limits of redshift and wavenumber. The minimum and maximum redshift can be set using the variables <code class="code docutils literal notranslate"><span class="pre">zmin</span></code> and <code class="code docutils literal notranslate"><span class="pre">zmax</span></code> respectively. However, for <img class="math" src="_images/math/9630132210b904754c9ab272b61cb527d12263ca.png" alt="k"/>, for accurate power spectrum calculation, <img class="math" src="_images/math/d6971dbd8e196db988ffcf79e36fe6bf7a42c5bb.png" alt="k_{\text{max}}"/>, <code class="code docutils literal notranslate"><span class="pre">k_max_h_by_Mpc</span></code> below is set to a very high value (private communication with CLASS developers). However, when calculating the power spectrum, we define another variable, <code class="code docutils literal notranslate"><span class="pre">kmax</span></code> (which is less than the other one) to set the upper limit of <img class="math" src="_images/math/9630132210b904754c9ab272b61cb527d12263ca.png" alt="k"/>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># minimum redshift</span>
<span class="n">zmin</span> <span class="o">=</span> <span class="mf">0.0</span>

<span class="c1"># maximum redshift</span>
<span class="n">zmax</span> <span class="o">=</span> <span class="mf">4.66</span>

<span class="c1"># for accurate power spectrum, set to a very high value, for example, 5000</span>
<span class="n">k_max_h_by_Mpc</span> <span class="o">=</span> <span class="mf">5000.</span>

<span class="c1"># our wanted kmax</span>
<span class="n">kmax</span> <span class="o">=</span> <span class="mf">50.0</span>

<span class="c1"># minimum of k</span>
<span class="n">k_min_h_by_Mpc</span> <span class="o">=</span> <span class="mf">5E-4</span>
</pre></div>
</div>
</div>
<div class="section" id="example">
<h1>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h1>
<p>A <a class="reference external" href="https://github.com/Harry45/emuPK/blob/main/emulator/playground.ipynb">notebook</a> is available on Github to illustrate the different test cases. Below we show an example of the different reconstructed power spectra (comparing the power spectra generated using the emulator and the solver, CLASS). In particular, we have the</p>
<ul class="simple">
<li><p>linear matter power spectrum at the reference redshift</p></li>
<li><p>the non-linear matter power spectrum at a fixed redshift</p></li>
<li><p>the non-linear matter power spectrum, with baryon feedback at a fixed redshift</p></li>
</ul>
<p>and we can also use a specific redshift distribution to compute the auto- and cross- weak lensing power spectra.</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="_images/different_pk.png"><img alt="_images/different_pk.png" src="_images/different_pk.png" style="width: 469.75px; height: 440.5px;" /></a>
<p class="caption"><span class="caption-text">Comparison between the emulator and CLASS at fixed redshift and input parameters.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="main/modules.html" class="btn btn-neutral float-right" title="Emulator Build-Up" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="emuPK" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Arrykrishna Mootoovaloo

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>